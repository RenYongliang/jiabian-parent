<!DOCTYPE html>
<html>
  <head>
    <title>addRole2.html</title>
	
    <meta name="keywords" content="keyword1,keyword2,keyword3">
    <meta name="description" content="this is my page">
    <meta name="content-type" content="text/html; charset=UTF-8">
    
	<link rel="stylesheet" href="../css/bootstrap.min14ed.css" type="text/css"></link>
    <link rel="stylesheet" href="../css/font-awesome.min93e3.css" type="text/css"></link>
    <link rel="stylesheet" href="../plugin/iCheck/custom.css" type="text/css"></link>
    <link rel="stylesheet" href="../css/animate.min.css" type="text/css"></link>
    <link rel="stylesheet" href="../css/style.min862f.css" type="text/css"></link>
    <link rel="stylesheet" href="../css/xcConfirm.css" type="text/css"></link>
     
    <!-- 全局主题样式 -->
    <link href="../content/superui/global/css/components.min.css" id="style_components" rel="stylesheet" />
    <link href="../content/superui/base/bootstrap-modal/css/bootstrap-modal.css" rel="stylesheet" />
    <link href="../content/superui/base/bootstrap-modal/css/bootstrap-modal-bs3patch.css" rel="stylesheet" />
    <!-- jstree -->
    <link href="../content/plugins/jstree/dist/themes/default/style.min.css" rel="stylesheet" />
    <link href="../css/plugins/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css" rel="stylesheet">
    <!--sweetalert样式-->
   	<link rel="stylesheet" href="../plugin/sweetalert/sweetalert.css" type="text/css"></link>
   	<link rel="stylesheet" href="../css/plugins/chosen/chosen.css" type="text/css"></link>
    	
  </head>
  
  <body style="background-color:white">
  
<form id="updateUserForm" name="updateUserForm" method="post" action="" class="form-horizontal m-t">
<input type="hidden" id="suserId" name="suserId" value="$!obj.suserId">
<div class="panel panel-default col-sm-offset-3" style="width: 50%;">
<div class="panel-heading">
    <h4 class="modal-title"><span class="glyphicon glyphicon-pencil"></span>&nbsp;修改用户</h4>
</div>
<div class="panel-body" >
     <div class="form-group">
	    <label class="col-sm-offset-2 col-sm-2 control-label">姓名：</label>
	    <div class="col-sm-8">
	        <input style="width: 350px;" id="realName" name="realName" class="form-control" type="text" value="$!obj.realName"  placeholder="请输入姓名">
	    </div>
	</div>
	<div class="form-group">
	    <label class="col-sm-offset-2 col-sm-2 control-label">账号：</label>
	    <div class="col-sm-8">
	    	<input style="width: 350px;" id="loginName" name="loginName" class="form-control" type="text" value="$!obj.loginName"  placeholder="请输入账号">
	    </div>
	</div>
	<div class="form-group">
	    <label class="col-sm-offset-2 col-sm-2 control-label">密码：</label>
	    <div class="col-sm-8">
	    	<input style="width: 350px;" id="loginPwd" name="loginPwd" class="form-control" type="password"  placeholder="请输入密码">
	    </div>
	</div>
	<div class="form-group">
	    <label class="col-sm-offset-2 col-sm-2 control-label">角色：</label>
	    <div class="col-sm-8">
	    	<select id="roleId" name="roleId" data-placeholder="请选择角色" class="chosenSelect"   tabindex="2">
            	<option value=""></option>
            	#foreach($!obj in $!roleList)
            		<option value="$!obj.roleId">$!obj.roleName</option>
            	#end
         	</select>	
	    </div>
	</div>
	<div class="form-group">
	    <label class="col-sm-offset-2 col-sm-2 control-label">性别：</label>
	    <div class="col-sm-8">
	    <div style="width: 350px;">
	    	<div class="radio radio-info radio-inline">
            	<input type="radio" id="add_sex1" value="1" name="sex" #if($!obj.sex==1) checked="checked" #end>
                <label for="add_sex1"> 男 </label>
            </div>
            <div class="radio radio-danger radio-inline">
                <input type="radio" id="add_sex2" value="2" name="sex" #if($!obj.sex==2) checked="checked" #end>
                <label for="add_sex2"> 女 </label>
            </div>
	    </div>
	    </div>
	</div>
	<div class="form-group">
	    <label class="col-sm-offset-2 col-sm-2 control-label">区域：</label>
	    <div class="col-sm-8">
	    	<select style="width: 130px;display: inline-block;" class="form-control" name="province" id="update_province" onchange="chgProvinces(update_province,update_city,update_area)">
		        <option></option>
		    </select>
		    <select style="width: 100px;display: inline-block;" class="form-control" name="city" id="update_city" onchange="chgCitys(update_city,update_area)">
		        <option></option>
		    </select>
		    <select style="width: 100px;display: inline-block;" class="form-control" name="area" id="update_area">
		        <option></option>
		    </select>
	    </div>
	</div>
	<div class="form-group">
	    <label class="col-sm-offset-2 col-sm-2 control-label">邮箱：</label>
	    <div class="col-sm-8">
	    	<input id="add_email" style="width: 350px;" name="email" class="form-control" type="email" value="$!obj.email" placeholder="请输入邮箱">
	    </div>
	</div>
</div>
<div class="panel-footer" style="text-align: center;">
	<a style="width: 100px;"  class="btn default" onclick="updateSysUser();"><span class="glyphicon glyphicon-ok-sign"></span>&nbsp;确定</a>
	<a style="width: 100px;"  class="btn default" href="#" onclick ="javascript:history.go(-1);"><span class="glyphicon glyphicon-remove-sign"></span>&nbsp;返回</a>
</div>
</div>
</form>
	<script src="../content/superui/min/js/superui.common.min.js"></script>
    <script src="../content/superui/base/bootstrap-modal/js/bootstrap-modal.js"></script>
    <script src="../content/superui/base/bootstrap-modal/js/bootstrap-modalmanager.js"></script>
        
    <script src="../js/jquery.min.js?v=2.1.4"></script>
    <script src="../js/bootstrap.min.js?v=3.3.6"></script>
    <script src="../js/plugins/peity/jquery.peity.min.js"></script>
    <script src="../js/content.min.js?v=1.0.0"></script>
    <script src="../js/plugins/iCheck/icheck.min.js"></script>
    <script src="../js/demo/peity-demo.min.js"></script>
    <script src="../js/plugins/chosen/chosen.jquery.js"></script>
    <script src="../content/plugins/jstree/dist/jstree.min.js"></script>
    <!-- sweetalert脚本 -->
   	<script type="text/javascript" src="../plugin/sweetalert/sweetalert.min.js"></script>
   	<script src="../js/address/region.js"></script>
   	<script src="../js/evenUtil.js"></script>
   	<script type="text/javascript">
   		$(function(){
   			$('.i-checks').iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green"});
   			$('.chosenSelect').chosen(
    			{ 
					no_results_text : "无结果", 
					width:"350px" 
				}
    		);
   			$('#roleId').val("$!obj.roleId");
			$('#roleId').trigger("chosen:updated");
			loadProvance(update_province,update_city,update_area);
			
			/**
		 	* 回显地址 (注意方法引用顺序)  
		 	**/
		 	selected(update_province,"$!obj.province");
		 	chgProvinces(update_province,update_city,update_area);
		 	selected(update_city,"$!obj.city");
		 	chgCitys(update_city,update_area);
		 	selected(update_area,"$!obj.area");
   		});
   		
   		function updateSysUser(){
   		  $.ajax({
              url : "../sysUser/updateSysUser",
              data : $('#updateUserForm').serialize(),
              type : "post",
              success : function(data) {
                  if (data > 0) {
                      swal("提示", "修改成功", "warning");
                  } else if(data == 0){
                      swal("提示", "修改失败", "warning");
                  } else {
                      window.location.href ="../sysUser_ToLogin";  
                  }
                  setTimeout("location.href='../sysUser/sysUserList'",2000);
              }
          });
   		}
   	</script>
  </body>
</html>
